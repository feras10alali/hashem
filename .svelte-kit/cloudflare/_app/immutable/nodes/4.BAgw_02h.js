import{t as y,a as x}from"../chunks/B0zkCgEv.js";import"../chunks/DFa-lXe0.js";import{p as re,f as le,g as i,a as oe,c as a,s as o,m as v,b as r,n as w,r as s,t as X}from"../chunks/BW8aTVaI.js";import{s as O}from"../chunks/CgQJbJ8q.js";import{i as z}from"../chunks/Bd_8zUmT.js";import{r as M}from"../chunks/B-HKzecM.js";import{l as ie,t as ne,s as ce,c as de}from"../chunks/GjyCz3r7.js";import{e as u}from"../chunks/B6Pj8jan.js";import{b as Z}from"../chunks/C_hClTAz.js";import{i as pe}from"../chunks/BcrJJAe6.js";import{s as ve,a as ue}from"../chunks/D-BB90hW.js";import{i as fe}from"../chunks/BEXdwwCD.js";import{w as be}from"../chunks/D4BJqEd1.js";var me=y('<div class="fixed inset-0 bg-black/30 z-40"><div class="fixed top-0 right-0 h-full w-64 bg-white text-black shadow-lg z-50 p-4 flex flex-col justify-between"><div><div class="flex justify-between items-center mb-4"><h2 class="text-lg font-bold">الصفحات</h2> <button class="text-black text-xl">×</button></div> <nav class="flex flex-col gap-2"><a href="/admin/approved_responses" class="hover:underline">الردود</a> <a href="/admin/approved_responses" class="hover:underline">الردود المقبولة</a> <span class="text-gray-400 cursor-not-allowed">اضافة مسؤول</span></nav></div> <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded-lg mt-4 w-full">تسجيل الخروج</button></div></div>'),ge=y('<p class="text-center text-red-600 text-sm"> </p>'),he=y('<div class="fixed bottom-4 right-3 z-50"><div role="alert"><svg class="shrink-0 inline w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"></path></svg> <span class="sr-only">Info</span> <div><span class="font-medium"> </span> </div></div></div>'),xe=y('<button class="text-black bg-gray-100 px-2 py-1 rounded mr-4 mb-0 text-3xl">☰</button> <!> <div class="flex justify-center items-center w-full min-h-screen pt-4 bg-gray-100"><div class="w-full max-w-2xl bg-white mt-[0%] p-6 rounded-xl shadow-md"><h1 class="text-xl text-center font-semibold mb-6">اضافة مسؤول</h1> <div class="space-y-4"><div class="relative"><input id="username" type="text" placeholder=" " class="peer w-full px-2.5 pt-5 pb-2.5 text-sm text-black bg-white border-b-2 border-gray-300 focus:outline-none focus:border-black"> <label for="username" class="absolute right-2 text-sm text-gray-500 transform scale-75 -translate-y-4 top-2 origin-[0] peer-placeholder-shown:translate-y-2.5 peer-placeholder-shown:scale-100 peer-focus:scale-75 peer-focus:-translate-y-4 transition-all">اسم المستخدم</label></div> <div class="grid grid-cols-2 gap-4"><div class="relative"><input id="password" type="password" placeholder=" " class="peer w-full px-2.5 pt-5 pb-2.5 text-sm text-black bg-white border-b-2 border-gray-300 focus:outline-none focus:border-black"> <label for="password" class="absolute right-2 text-sm text-gray-500 transform scale-75 -translate-y-4 top-2 origin-[0] peer-placeholder-shown:translate-y-2.5 peer-placeholder-shown:scale-100 peer-focus:scale-75 peer-focus:-translate-y-4 transition-all">كلمة المرور</label></div> <div class="relative"><input id="passwordConfirm" type="password" placeholder=" " class="peer w-full px-2.5 pt-5 pb-2.5 text-sm text-black bg-white border-b-2 border-gray-300 focus:outline-none focus:border-black"> <label for="passwordConfirm" class="absolute right-2 text-sm text-gray-500 transform scale-75 -translate-y-4 top-2 origin-[0] peer-placeholder-shown:translate-y-2.5 peer-placeholder-shown:scale-100 peer-focus:scale-75 peer-focus:-translate-y-4 transition-all">تأكيد كلمة المرور</label></div></div> <!> <button class="w-full mt-6 bg-black text-white h-12 rounded-lg hover:bg-gray-900 active:bg-gray-800 transition-all">اضافة مسؤول</button></div></div></div> <!>',1);function He(q,E){re(E,!1);const[F,G]=ve(),d=()=>ue(h,"$alert",F);let f=v(!1),b=v(""),m=v(""),g=v(""),K="admin",p=v("");const h=be(null);function Q(e,{duration:t=300}){return{duration:t,easing:de,css:l=>`transform: translateX(${(1-l)*100}%);`}}function U(e){e.target===e.currentTarget&&o(f,!1)}async function V(){const e=await fetch("/admin/add_admin",{method:"POST",body:JSON.stringify({username:i(b),password:i(m),passwordConfirm:i(g),role:K}),headers:{"Content-Type":"application/json"}}),t=await e.json();e.ok?(o(b,""),o(m,""),o(g,""),o(p,""),h.set({type:"success",message:"تمت إضافة المسؤول بنجاح"}),await fe()):(o(p,t.error||"فشل في العملية"),h.set({type:"error",message:i(p)})),setTimeout(()=>h.set(null),5e3)}pe();var A=xe(),H=le(A),S=r(H,2);{var W=e=>{var t=me(),l=a(t),n=a(l),c=a(n),j=r(a(c),2);s(c),w(2),s(n);var T=r(n,2);s(l),s(t),u("click",j,()=>o(f,!1)),u("click",T,function(...se){var R;(R=ie)==null||R.apply(this,se)}),ne(3,l,()=>Q),u("click",t,U),x(e,t)};z(S,e=>{i(f)&&e(W)})}var _=r(S,2),B=a(_),D=r(a(B),2),k=a(D),I=a(k);M(I),w(2),s(k);var $=r(k,2),C=a($),J=a(C);M(J),w(2),s(C);var L=r(C,2),N=a(L);M(N),w(2),s(L),s($);var P=r($,2);{var Y=e=>{var t=ge(),l=a(t,!0);s(t),X(()=>O(l,i(p))),x(e,t)};z(P,e=>{i(p)&&e(Y)})}var ee=r(P,2);s(D),s(B),s(_);var te=r(_,2);{var ae=e=>{var t=he(),l=a(t),n=r(a(l),4),c=a(n),j=a(c,!0);s(c);var T=r(c);s(n),s(l),s(t),X(()=>{ce(l,1,`flex items-center p-4 text-sm rounded-lg shadow-lg ${d().type==="success"?"text-green-800 bg-green-100":d().type==="error"?"text-red-800 bg-red-100":"text-blue-800 bg-blue-100"}`),O(j,d().type==="success"?"":"خطأ!"),O(T,` ${d().message??""}`)}),x(e,t)};z(te,e=>{d()&&e(ae)})}u("click",H,()=>o(f,!0)),Z(I,()=>i(b),e=>o(b,e)),Z(J,()=>i(m),e=>o(m,e)),Z(N,()=>i(g),e=>o(g,e)),u("click",ee,V),x(q,A),oe(),G()}export{He as component};
